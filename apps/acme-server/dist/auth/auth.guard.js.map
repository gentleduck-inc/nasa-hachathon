{"version":3,"sources":["../../src/auth/auth.guard.ts"],"sourcesContent":["import { type CanActivate, type ExecutionContext, Injectable } from '@nestjs/common'\nimport type { Request } from 'express'\nimport type { Observable } from 'rxjs'\nimport { throwError } from '~/common/libs'\nimport type { AuthMessageType } from './auth.types'\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(context: ExecutionContext): boolean | Promise<boolean> | Observable<boolean> {\n    if (context.switchToHttp().getRequest<Request>().session.user) return true\n    console.log(context.switchToHttp().getRequest<Request>().session)\n\n    throwError<AuthMessageType>('AUTH_UNAUTHORIZED')\n    return false\n  }\n}\n"],"names":["AuthGuard","canActivate","context","switchToHttp","getRequest","session","user","console","log","throwError"],"mappings":";;;;+BAOaA;;;eAAAA;;;wBAPuD;sBAGzC;;;;;;;AAIpB,IAAA,AAAMA,YAAN,MAAMA;IACXC,YAAYC,OAAyB,EAAoD;QACvF,IAAIA,QAAQC,YAAY,GAAGC,UAAU,GAAYC,OAAO,CAACC,IAAI,EAAE,OAAO;QACtEC,QAAQC,GAAG,CAACN,QAAQC,YAAY,GAAGC,UAAU,GAAYC,OAAO;QAEhEI,IAAAA,gBAAU,EAAkB;QAC5B,OAAO;IACT;AACF"}