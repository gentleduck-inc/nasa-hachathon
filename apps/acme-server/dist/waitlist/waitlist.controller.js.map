{"version":3,"sources":["../../src/waitlist/waitlist.controller.ts"],"sourcesContent":["import { Body, Controller, Post, UseFilters } from '@nestjs/common'\nimport { ErrorExceptionFilter } from '~/common/exceptions'\nimport { WaitlistService } from './waitlist.service'\nimport { signupSchema } from '~/auth/auth.dto'\nimport { ZodValidationPipe } from '~/common/pipes'\n\n@Controller('waitist')\n@UseFilters(ErrorExceptionFilter)\nexport class WaitlistController {\n  constructor(private readonly wishlistService: WaitlistService) {}\n\n  // @Get()\n  // async getWishlist() {\n  //   return await this.wishlistService.getWishlist()\n  // }\n\n  @Post('add')\n  async addToWishlist(@Body(new ZodValidationPipe(signupSchema.pick({ email: true }))) body: { email: string }) {\n    return await this.wishlistService.addToWishlist(body)\n  }\n}\n"],"names":["WaitlistController","addToWishlist","body","wishlistService","ZodValidationPipe","signupSchema","pick","email"],"mappings":";;;;+BAQaA;;;eAAAA;;;wBARsC;4BACd;iCACL;yBACH;uBACK;;;;;;;;;;;;;;;AAI3B,IAAA,AAAMA,qBAAN,MAAMA;IAGX,SAAS;IACT,wBAAwB;IACxB,oDAAoD;IACpD,IAAI;IAEJ,MACMC,cAAc,AAAiEC,IAAuB,EAAE;QAC5G,OAAO,MAAM,IAAI,CAACC,eAAe,CAACF,aAAa,CAACC;IAClD;IAVA,YAAY,AAAiBC,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AAWlE;;;uCAHgCC,wBAAiB,CAACC,qBAAY,CAACC,IAAI,CAAC;QAAEC,OAAO;IAAK"}